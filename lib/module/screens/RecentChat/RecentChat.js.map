{"version":3,"names":["React","useMemo","useRef","View","FlatList","TouchableOpacity","ChannelRepository","getChannelTopic","subscribeTopic","ChatList","useAuth","useEffect","useState","moment","useStyles","CustomText","useIsFocused","useNavigation","LoadingIndicator","AddMembersModal","createAmityChannel","AddChatIcon","useTheme","useDispatch","useSelector","recentChatSlice","useIsRole","translate","RecentChat","client","isConnected","channelList","state","recentChat","updateRecentChat","clearChannelList","actions","dispatch","theme","loadChannel","setLoadChannel","isModalVisible","setIsModalVisible","styles","flatListRef","channelData","setChannelData","isCSRole","isFetchedRole","canCreateChannel","data","channels","onNextPage","hasNextPage","disposers","subscribedChannels","subscribeChannels","forEach","c","includes","channelId","isDeleted","push","navigation","setOptions","header","createElement","style","topBar","titleText","onPress","color","colors","base","headerTitle","onQueryChannel","unsubscribe","getChannels","sortBy","limit","membership","value","length","isFocus","fn","formattedChannelObjects","map","item","lastActivityDate","lastActivity","format","todayDate","Date","now","dateDisplay","chatId","chatName","displayName","chatMemberNumber","memberCount","unReadMessage","unreadCount","messageDate","channelType","type","avatarFileId","handleLoadMore","handleCloseModal","handleOnFinish","users","channel","userId","oneOnOneChatObject","navigate","chatReceiver","chatDisplayName","userObject","groupChatObject","join","groupChat","console","log","JSON","stringify","error","renderRecentChat","marginTop","NoConversationContainer","NoConversationText","chatListContainer","renderItem","renderChatList","keyExtractor","toString","onEndReached","onEndReachedThreshold","ref","extraData","key","renderTabView","tabView","indicator","tabViewTitle","chatContainer","onFinish","onClose","visible"],"sourceRoot":"../../../../src","sources":["screens/RecentChat/RecentChat.tsx"],"mappings":"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","ignoreList":[]}